(this.webpackJsonpgobyexample=this.webpackJsonpgobyexample||[]).push([[0],{35:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t.n(r),a=t(21),o=t.n(a),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=t(26),u=t(5),h=t(22),d=t(23),g=t(15),j=t(24),m=t(29),p=t(0),b=function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"row justify-content-between border-bottom m-1 bg-primary",children:[Object(p.jsx)("div",{className:"d-flex flex-wrap align-content-center",children:Object(p.jsx)("div",{className:"col-md-auto",children:Object(p.jsx)("a",{href:"/",children:Object(p.jsx)("img",{src:"/gobyexample/go/logo.jpg",alt:"LocalShop"})})})}),Object(p.jsx)("div",{className:"col-md-auto",children:Object(p.jsx)("h2",{class:"text-white",children:Object(p.jsx)("span",{class:"footer-h3 text-white",children:"Learn Go By Example"})})}),Object(p.jsx)("div",{className:"col-md-auto",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("a",{className:"nav-link ml-2 mr-2 text-white",href:"/gobyexample",rel:"noopener noreferrer",children:["Home",Object(p.jsx)("span",{className:"sr-only",children:"(current)"})]})})})]})})},f=function(e){var n=new Date;return Object(p.jsx)("div",{class:"row justify-content-left border-bottom m-5",children:Object(p.jsx)("footer",{children:Object(p.jsxs)("div",{class:"d-flex flex-wrap align-content-center bg-white",children:[Object(p.jsxs)("div",{class:"col-md-auto ml-5",children:[Object(p.jsxs)("h3",{class:"footer-h3",children:["About",Object(p.jsx)("span",{style:{color:"#FFCC48"},children:"GoByExample"})]}),Object(p.jsxs)("p",{class:"font-weight-normal text-black",children:["\xa9 2018-",n.getFullYear(),"@Rupak Kumar."]})]}),Object(p.jsxs)("div",{class:"col-md-auto ml-5",children:[Object(p.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(p.jsx)("i",{class:"fa fa-2x fa-map-marker"}),Object(p.jsx)("span",{children:" #202, LG Halli, Bengaluru - 560094"})]}),Object(p.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(p.jsx)("i",{class:"fa fa-2x fa-phone"}),Object(p.jsx)("span",{children:" +91 9113584362"})]}),Object(p.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(p.jsx)("i",{class:"fa fa-2x fa-envelope"}),Object(p.jsxs)("span",{children:[" ",Object(p.jsx)("a",{href:"mailto:admin@vlocalshop.in",children:"rupak.kumar.ambasta@gmail.com"})]})]})]}),Object(p.jsxs)("div",{class:"col",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{class:"font-weight-bold text-black",children:"About Me"}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{class:"font-weight-normal text-black",children:"A creative technologist, thought leader and problem solver with 20+ years of experience as development manager, team manager, architect and developer in various application and infrastructure domains."})]}),Object(p.jsx)("div",{})]})]})})})},O=(t(35),t(3));function x(){var e=Object(r.useState)(!1),n=Object(O.a)(e,2),t=n[0],i=n[1],a=function(){window.pageYOffset>300?i(!0):i(!1)};return Object(r.useEffect)((function(){window.addEventListener("scroll",a)}),[]),Object(p.jsx)("div",{className:"scroll-to-top",children:t&&Object(p.jsx)("div",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(p.jsx)("img",{src:"/gobyexample/icons/top.svg",alt:"Go to top"})})})}var v=t(25),w=t.n(v),y=function(e){Object(j.a)(t,e);var n=Object(m.a)(t);function t(e){var r;return Object(h.a)(this,t),(r=n.call(this,e)).state={showSideBar:!1,showSubscribeButton:!0},w()(Object(g.a)(r),"subscribe","post"),r}return Object(d.a)(t,[{key:"render",value:function(){return Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)("div",{class:"container-fluid",children:[Object(p.jsx)(x,{}),Object(p.jsx)(b,{}),this.props.children,Object(p.jsx)(f,{})]})})}}]),t}(r.Component),S=t(4),F=t.n(S),N=t(2),k=(t(7),t(8),t(9),function(e){var n=i.a.useState('\t#cmd/main.go\n        package main\n\n        import (\n            "github.com/rkumar-bengaluru/go/logger"\n        )\n        \n        func main() {\n            \tlogger.New().Info("default logger")\n        }\n'),t=Object(O.a)(n,2),r=t[0],a=t[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h2",{children:"Logging in Go"}),Object(p.jsx)("p",{children:"As a experienced developer the first thing that comes in mind for a project is logging even for basic hello world in any programming language you start with is printing the hello message. However it would be great if we start with logging the hello message as any project you will end up there."}),Object(p.jsx)("h3",{children:"Limitation of Default Go Logger"}),Object(p.jsx)("p",{children:"I have spent most of time in Java and first thing i would like to see is what to log and and what is the level of the log example debug, info, warning, error. This default levelled based logging is missing in default log in Go. Not sure why they designed it that way probably they left it for open source developers to jump in and create that for Go :)"}),Object(p.jsx)("h4",{children:"Let's build a Custom Go Logger"}),Object(p.jsx)("p",{children:"So this is my first go lang project, build a logger with different levels of logging."}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 01"}),Object(p.jsx)("p",{children:"Go to your project root directory and run the following commands:"}),Object(p.jsx)(F.a,{value:"# go work init",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(p.jsx)("p",{children:"This will create your project workspace go.work. Inside the project root directory create 2 folders, cmd :- Keep your main.go source file, go runtime uses this and logger :- Keep your logger.go source code."})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 02"}),Object(p.jsx)("p",{children:"Will use Zap logger in the background and will provide abstraction of a custom logger for this project"}),Object(p.jsx)(F.a,{value:"\r #logger.go\r // first struct in go\r type Logger struct {\r log *zap.Logger\r }\r // define a function for Logger.\r func (logger *Logger) Info(msg string) {\r logger.log.Info(msg)\r }",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 03 - Create a New function to initialize logger"}),Object(p.jsx)(F.a,{value:"func New() *Logger {\r l, _ := zap.NewProduction()\r defer l.Sync()\r return &Logger{l}\r }",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 04 - import zapper packages"}),Object(p.jsx)(F.a,{value:'import (\r "go.uber.org/zap"\r "go.uber.org/zap/zapcore"\r "gopkg.in/natefinch/lumberjack.v2"\r )',highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 05 - Create Module files"}),Object(p.jsx)(F.a,{value:"go mod init github.com/rkumar-bengaluru/go/logger",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(p.jsx)("p",{children:"This will create go.mod file"})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 06 - Install third party packages and resolve dependencies"}),Object(p.jsx)(F.a,{value:"go mod tidy",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 07 - Final Go.mod as below"}),Object(p.jsx)(F.a,{value:"module github.com/rkumar-bengaluru/go/logger\r go 1.18\r require (\r go.uber.org/zap v1.21.0\r gopkg.in/natefinch/lumberjack.v2 v2.0.0\r )\r require (\r github.com/BurntSushi/toml v1.1.0 // indirect\r go.uber.org/atomic v1.7.0 // indirect\r go.uber.org/multierr v1.6.0 // indirect\r )",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(p.jsx)("p",{children:"This will create go.mod file"})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 08 - Let's use this logger module we build in cmd module"}),Object(p.jsx)(F.a,{value:r,onValueChange:function(e){return a(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 09 - Create main module"}),Object(p.jsx)(F.a,{value:"go mod init github.com/rkumar-bengaluru/go",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(p.jsx)("p",{children:"followed by install package dependencies"}),Object(p.jsx)(F.a,{value:"go mod tidy",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h5",{children:"Step 10 - Use local workspace and Run the main module"}),Object(p.jsx)("p",{children:"In the project root directory, run the following commands"}),Object(p.jsx)(F.a,{value:"\r go work use ./cmd\r go work use ./logger\r go run github.com/rkumar-bengaluru/go\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("p",{children:["You can find the complete source code",Object(p.jsx)("a",{href:"https://github.com/rkumar-bengaluru/go",target:"_blank",rel:"noreferrer",children:" here"})]})]})}),C=function(){var e=i.a.useState('#main.go\npackage main\n\nimport (\n    "github.com/rkumar-bengaluru/go/rest/routes"\n)\n        \nfunc main() {\n    var a = routes.App{}\n    a.Initialize(\n        "postgres",\n        "postgrespw",\n        "sampledb",\n    )\n    a.Run(":8080")\n}'),n=Object(O.a)(e,2),t=n[0];n[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Running the Rest API's"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("p",{children:"In Go for running any module you would need a main package with main() function. For simplicity we will refer Cmd package as main which the go runtime will use to start the application."})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 01 - Write the main program",Object(p.jsx)(F.a,{value:t,highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 02 - Run the below commands and run the rest server",Object(p.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/cmd\r go mod tidy\r go run github.com/rkumar-bengaluru/go/rest/cmd\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},I=function(){var e=i.a.useState('#model.js\ntype Product struct {\n    ID    int `json:"id,omitempty`    \n    Name  string  `json:"name"`\n    Price float64 `json:"price"`\n}'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#model.js\nfunc (p *Product) GetProduct(db *sql.DB) error {\n    log.Info(fmt.Sprintf("product to fetch %v\n", p.ID))\n    return db.QueryRow("SELECT name,price from products where id=$1", p.ID).Scan(&p.Name, &p.Price)\n}'),o=Object(O.a)(a,2),c=o[0],s=o[1],l=i.a.useState('#model.js\nimport (\n    "database/sql"\n    "fmt"\n    "github.com/rkumar-bengaluru/go/logger"\n)'),u=Object(O.a)(l,2),h=u[0],d=u[1],g=i.a.useState('#model.js\nvar allproducts = map[int]Product{\n        1: Product{1, "apple", 8.99},\n        2: Product{2, "mango", 7.99},\n        3: Product{3, "banana", 4.33},\n}'),j=Object(O.a)(g,2),m=j[0],b=j[1],f=i.a.useState('#model.js\nfunc (p *Product) GetProductInMemory() error {\n    for key, val := range allproducts {\n        if key == p.ID {\n             p.Name = val.Name\n            p.Price = val.Price\n            break\n        }\n    }\n    return errors.New("product not found...")\n}'),x=Object(O.a)(f,2),v=x[0],w=x[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Model Of the Rest API"}),Object(p.jsxs)("div",{className:"row ",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("p",{children:["Let's say we are building a product catalog API to create, update, delete and read products. For the sake of simplicity we will discuss only of the API's. To check all of them please look at the code repository link",Object(p.jsx)("a",{target:"_blank",href:"https://github.com/rkumar-bengaluru/go/tree/main/rest/model",children:" here."})]})}),Object(p.jsxs)("div",{className:"col border",children:["Step01 - Define the model",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row ",children:[Object(p.jsxs)("div",{className:"col border",children:["Step02 - Define the function on the model",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Step03 - import necessary dependencies",Object(p.jsx)(F.a,{value:h,onValueChange:function(e){return d(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsx)("p",{children:"You can choose to to implement a in memory model as well instead of db."}),Object(p.jsxs)("div",{className:"row ",children:[Object(p.jsxs)("div",{className:"col border",children:["Step 02.01 - Define in memory map of products.",Object(p.jsx)(F.a,{value:m,onValueChange:function(e){return b(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Step 02.02 - Define function with InMemory data",Object(p.jsx)(F.a,{value:v,onValueChange:function(e){return w(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsx)("p",{children:"Run the necessary commands to build the model module."}),Object(p.jsx)("div",{className:"row border",children:Object(p.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/model\r go mod tidy\r ",onValueChange:function(e){return d(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})},R=function(){var e=i.a.useState('#app.go\nimport (\n    "database/sql"\n    "encoding/json"\n    "fmt"\n    "net/http" // core go http package\n    "strconv"\n    "github.com/gorilla/mux" // gorilla package\n    _ "github.com/lib/pq" // postgres driver\n    "github.com/rkumar-bengaluru/go/logger" // from previous article\n    "github.com/rkumar-bengaluru/go/rest/model" // model we just defined\n)'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#app.go\ntype App struct {\n    Router *mux.Router // gorilla router - github.com/gorilla/mux\n    DB     *sql.DB\n}\n\nfunc (a *App) initRoutes() {\n    a.Router.HandleFunc("/product/{id:[0-9]+}", a.getProduct).Methods("GET")\n}'),o=Object(O.a)(a,2),c=o[0],s=o[1],l=i.a.useState('#app.go\nfunc (a *App) getProduct(w http.ResponseWriter, r *http.Request) {\n    vars := mux.Vars(r)\n    id, err := strconv.Atoi(vars["id"])\n    alog.Info(fmt.Sprintf("getProduct::product to fetch ", id))\n    if err != nil {\n        respondWithError(w, http.StatusBadRequest, "Invalid Product id")\n        return\n    }\n    p := model.Product{ID: id}\n    // GetProduct is what we defined in model aove.\n    if err = p.GetProduct(a.DB); err != nil {\n        fmt.Println(err)\n        switch err {\n            case sql.ErrNoRows:\n                respondWithError(w, http.StatusNotFound, "Product not found")\n                return\n            default:\n                respondWithError(w, http.StatusInternalServerError, err.Error())\n                return\n        }\n    }\n    respondWithJson(w, http.StatusOK, p)\n}'),u=Object(O.a)(l,2),h=u[0],d=u[1],g=i.a.useState('#app.go\nfunc respondWithError(w http.ResponseWriter, code int, message string) {\n    respondWithJson(w, code, map[string]string{"error": message})\n}\n\nfunc respondWithJson(w http.ResponseWriter, code int, payload interface{}) {\n    response, _ := json.Marshal(payload)\n    alog.Info(fmt.Sprintf("returing ->", string(response)))\n    w.Header().Set("Content-Type", "application/json")\n    w.WriteHeader(code)\n    w.Write(response)\n}'),j=Object(O.a)(g,2),m=j[0],b=j[1],f=i.a.useState('#app.go\n// initiazlize the App\nfunc (a *App) Initialize(user, pwd, dbname string) {\n\tconnectionString := fmt.Sprintf("port=49154 user=%v password=%v dbname=%v sslmode=disable",\n\t\tuser, pwd, dbname)\n\talog.Info(connectionString)\n\tvar err error\n\ta.DB, err = sql.Open("postgres", connectionString)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t}\n\n\talog.Info(fmt.Sprintf("DB Initialized %v", a.DB))\n\ta.Router = mux.NewRouter()\n\talog.Info(fmt.Sprintf("Router %v\n", a.Router))\n\ta.initRoutes()\n}'),x=Object(O.a)(f,2),v=x[0],w=x[1],y=i.a.useState("#app.go\nfunc (app App) Run(add string) {\n    http.ListenAndServe(add, app.Router)\n}"),S=Object(O.a)(y,2),k=S[0],C=S[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Configure Routes Of the Rest API's"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("p",{children:["Routes are nothing but endpoint URL's which needs to be configured using the Go http module. We will discuss just of the API's being configured. For the complete API list please refer to the code repository ",Object(p.jsx)("a",{target:"_blank",href:"https://github.com/rkumar-bengaluru/go/tree/main/rest/routes",children:"here."})]})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 01 - Define the Dependencies",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 02 - Define App structure and initialize route",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 03 - Overload App with getProduct function",Object(p.jsx)(F.a,{value:h,onValueChange:function(e){return d(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 04 - Implement respondWithError and respondWithJson",Object(p.jsx)(F.a,{value:m,onValueChange:function(e){return b(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 05 - Initialize the App",Object(p.jsx)(F.a,{value:v,onValueChange:function(e){return w(v)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 06 - Run the App",Object(p.jsx)(F.a,{value:k,onValueChange:function(e){return C(k)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsx)("p",{children:"Run the necessary commands to build the model module."}),Object(p.jsx)("div",{className:"row border",children:Object(p.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/routes\r go mod tidy\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})},P=function(){var e=i.a.useState('#routes_test.go\nimport (\n    "github.com/rkumar-bengaluru/go/rest/routes"\n    "log"\n    "net/http"\n    "net/http/httptest"\n    "os"\n    "testing"\n)'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#routes_test.go\nvar app = routes.App{}\n\nfunc TestGetProduct(t *testing.T) {\n    clearTable()\n    req, _ := http.NewRequest("GET", "/product/1", nil)\n    rec := httptest.NewRecorder()\n    app.Router.ServeHTTP(rec, req)\n    if rec.Code != http.StatusOK {\n        t.Errorf("expected %v, recvd %v", http.StatusOK, rec.Code)\n    }\n}'),o=Object(O.a)(a,2),c=o[0],s=o[1],l=i.a.useState('#routes_test.go\nfunc TestMain(m *testing.M) {\n    app.Initialize(\n        "postgres",\n        "postgrespw",\n        "sampledb",\n    )\n    ensureTableExist()\n    code := m.Run()\n    clearTable()\n    os.Exit(code)\n}'),u=Object(O.a)(l,2),h=u[0],d=u[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Go Unit Testing"}),Object(p.jsx)("div",{className:"row",children:"So far we have developed one of the rest api's. Here we will see how to use the inbuild testing capabilities in Go to test the rest API."}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 01 - Define the Dependencies",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 02 - Write the Main test. It is like setup and teardown for each test.",Object(p.jsx)(F.a,{value:h,onValueChange:function(e){return d(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 border",children:["Step 03 - Write the test for GetProduct",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col-6 border",children:["Step 04 - Run the routes test.",Object(p.jsx)(F.a,{value:"go test -v github.com/rkumar-bengaluru/go/rest/routes",onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},M=function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h2",{children:"Build Rest API with Gorilla"}),Object(p.jsx)(I,{}),Object(p.jsx)(R,{}),Object(p.jsx)(C,{}),Object(p.jsx)(P,{})]})},z=function(){var e=i.a.useState('#main.go\npackage main\nimport (\n    "github.com/rkumar-bengaluru/go/restgin/routes"\n)\nfunc main() {\n    app := routes.App{}\n    app.Intialize()\n    app.router.Run("localhost:8080")\n}\n\n// run the following command\n// #go mod init github.com/rkumar-bengaluru/go/restgin/main\n// #go run github.com/rkumar-bengaluru/go/restgin/main\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#routes_test.go\npackage routes_test\nimport (\n    "github.com/rkumar-bengaluru/go/restgin/routes"\n    "testing"\n    "net/http"\n    "net/http/httptest"\n)\n\nfunc TestGetProduct(t *testing.T) {\n   app := routes.App{}\n   app.Initialize()\n   req,_ := http.NewRequest("/product/1", "GET", nil)\n   rec := httptest.NewRecorder()\n   app.router.ServeHTTP(rec,req)\n   if rec.Code != http.StatusOK {\n       t.Errorf("was expecting 200 but got %v",rec.Code)\n   }\n}\n// run the following command to test.\n// #go test .\n    '),o=Object(O.a)(a,2);o[0],o[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h4",{children:"Main Definition."}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col border",children:["Step 05 - Write the main function",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})})]})},G=function(){var e=i.a.useState('#model.go\npackage model\nimport "errors"\ntype Product struct {\n    ID int `json:"id"`\n    Name string `json:"name"`\n    Price float64 `json:"price"`\n}\n// In mem list of products\nvar all := map[int]Product {\n    1 : Product{1, "apple", 8.88},\n    2 : Product{2, "banana:, 4.44}\n}\n// method to fetch product\nfunc (p *Product) GetProduct() error {\n    for key,val := range all {\n        if key == p.ID {\n            p.Name = val.Name\n            p.Price = val.Price\n            return nil\n        }\n    }\n    return errors.New("could not find product")\n}\n// run the following command\n// #go mod init github.com/rkumar-bengaluru/go/restgin/model\n// #go mod tidy\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#model_test.go\npackage model_test\nimport (\n    "github.com/rkumar-bengaluru/go/restgin/model"\n    "testing"\n)\n\nfunc TestGetProduct(t *testing.T) {\n    p := model.Product(ID : 1)\n    p.GetProduct()\n    if p.Name != "apple"{\n        t.Errorf("was expecting name as apple however got %v, ", p.Name)\n    }\n    if p.Price != 8.88 {\n        t.Errorf("was expecting price as 8.88 but got %v",p.Price)\n    }\n}\n// run the following command to test.\n// #go test .\n    '),o=Object(O.a)(a,2),c=o[0],s=o[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h4",{children:"Model Definition."}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:["Step 01 - Define the model",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Step 02 - Write Unit Test for model",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},W=function(){var e=i.a.useState('#routes.go\npackage routes\nimport (\n    "github.com/gin-gonic/gin"\n    "github.com/rkumar-bengaluru/go/restgin/model"\n    "strconv"\n    "http"\n)\ntype App struct {\n    router *gin.Engine\n}\n// let\'s write the route\nfunc getProduct(c *gin.Context) {\n    id := c.Param("id")\n    idint := strconv.Atoi(id)\n    p := model.Product{ID : idint}\n    p.GetProduct()\n    if p.Name == "" {\n        c.IndentedJSON(http.StatusNotFound, gin.H("{ "msg" : "could not found product"}"))\n        return\n    }\n    c.IndentedJSON(http.StatusOK, p)\n}\n// initialize the app with routes.\nfunc (app *App) Initialize() {\n    app.router = gin.Default()\n    app.router.GET("/product/:id", getProduct)\n}\n// run the following command\n// #go mod init github.com/rkumar-bengaluru/go/restgin/routes\n// #go mod tidy\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#routes_test.go\npackage routes_test\nimport (\n    "github.com/rkumar-bengaluru/go/restgin/routes"\n    "testing"\n    "net/http"\n    "net/http/httptest"\n)\n\nfunc TestGetProduct(t *testing.T) {\n   app := routes.App{}\n   app.Initialize()\n   req,_ := http.NewRequest("/product/1", "GET", nil)\n   rec := httptest.NewRecorder()\n   app.router.ServeHTTP(rec,req)\n   if rec.Code != http.StatusOK {\n       t.Errorf("was expecting 200 but got %v",rec.Code)\n   }\n}\n// run the following command to test.\n// #go test .\n    '),o=Object(O.a)(a,2),c=o[0],s=o[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h4",{children:"Routes Definition."}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:["Step 03 - Let's Define the Routes",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Step 04 - Write Unit Test for routes",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},q=function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Let's build Rest API with Gin Framework..."}),Object(p.jsx)("p",{children:"Gin is a web framework written in Go (Golang). It features a martini-like API with performance that is up to 40 times faster thanks to httprouter. If you need performance and good productivity, you will love Gin"}),Object(p.jsxs)("p",{children:["Link to gin framework ",Object(p.jsx)("a",{href:"https://github.com/gin-gonic/gin",children:" here"})]}),Object(p.jsx)(G,{}),Object(p.jsx)(W,{}),Object(p.jsx)(z,{})]})},E=function(){var e=i.a.useState("#main.go\n// parallel search with go routine\nfunc SearchEngine(query string) (results []string) {\n    resultChannel := make(chan string)\n    go func() { resultChannel <- Web(query) }()\n    go func() { resultChannel <- Image(query) }()\n    go func() { resultChannel <- Video(query) }()\n    // waiting for the slowest service...\n    for i := 0; i < 3; i++ {\n        results = append(results, <-resultChannel)\n    }\n    return\n}\n"),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#main.go\n    func SearchEngine(query string) (results []string) {\n        results = append(results, Web(query))\n        results = append(results, Image(query))\n        results = append(results, Video(query))\n        return\n    }\n    func SearchMain(query string) {\n        start := time.Now()\n        results := SearchEngine("golang")\n        elapsed := time.Since(start)\n        fmt.Println(results)\n        fmt.Println(elapsed)\n    }\n    func main() {\n        SearchMain("Golang")\n    }\n'),o=Object(O.a)(a,2);o[0],o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h4",{children:"Implementation Of Parallel Search"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col border",children:["Step 01 - Use Go With Channel for fakeSearch",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})})]})},V=function(){var e=i.a.useState('#main.go\n// parallel search with timeout\nfunc SearchEngine(query string) (results []string) {\n\tresultChannel := make(chan string)\n\tquit := time.After(80 * time.Millisecond)\n\tgo func() { resultChannel <- Web(query) }()\n\tgo func() { resultChannel <- Image(query) }()\n\tgo func() { resultChannel <- Video(query) }()\n\tfor i := 0; i < 3; i++ {\n\t\tselect {\n\t\tcase result := <-resultChannel:\n\t\t\tresults = append(results, result)\n\t\tcase <-quit:\n\t\t\tfmt.Println("timeout on search")\n\t\t\treturn\n\t\t}\n\t}\n\treturn\n}\n\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#main.go\n    func SearchEngine(query string) (results []string) {\n        results = append(results, Web(query))\n        results = append(results, Image(query))\n        results = append(results, Video(query))\n        return\n    }\n    func SearchMain(query string) {\n        start := time.Now()\n        results := SearchEngine("golang")\n        elapsed := time.Since(start)\n        fmt.Println(results)\n        fmt.Println(elapsed)\n    }\n    func main() {\n        SearchMain("Golang")\n    }\n'),o=Object(O.a)(a,2);o[0],o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h6",{children:"Implementation Of Parallel Search With Timeout"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col border",children:["With Timout using select",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})})]})},T=function(){var e=i.a.useState('#main.go\nvar (\n    Web          = fakeSearch("Web")\n    WebReplica   = fakeSearch("Web Replica")\n    Image        = fakeSearch("Image")\n    ImageReplica = fakeSearch("Image Replica")\n    Video        = fakeSearch("Video")\n    VideoReplica = fakeSearch("Video Replica")\n)\nfunc GetFromFirstReplica(query string, replicas ...FakeSearch) string {\n    c := make(chan string)\n    searchReplica := func(i int) { c <- replicas[i](query) }\n    for i := range replicas {\n        go searchReplica(i)\n    }\n    return <-c\n}\n\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#main.go\nfunc SearchEngine(query string) (results []string) {\n    resultChannel := make(chan string)\n    quit := time.After(80 * time.Millisecond)\n    go func() { resultChannel <- GetFromFirstReplica(query, Web, WebReplica, Web) }()\n    go func() { resultChannel <- GetFromFirstReplica(query, Image, ImageReplica, ImageReplica) }()\n    go func() { resultChannel <- GetFromFirstReplica(query, Video, VideoReplica, VideoReplica) }()\n    for i := 0; i < 3; i++ {\n        select {\n            case result := <-resultChannel:\n                results = append(results, result)\n            case <-quit:\n                fmt.Println("timeout on search")\n                return\n        }\n    }\n    return\n}\n'),o=Object(O.a)(a,2),c=o[0],s=o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h6",{children:"Many replica Implementation"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:["Get first from replica",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Search with multiple replicas",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},A=function(){var e=i.a.useState('#main.go\n// fake search implementation\nvar (\n\tWeb   = fakeSearch("Web")\n\tImage = fakeSearch("Image")\n\tVideo = fakeSearch("Video")\n)\ntype FakeSearch func(query string) string\nfunc fakeSearch(kind string) FakeSearch {\n\treturn func(query string) string {\n\t\ttime.Sleep(time.Duration(rand.Intn(100)) * time.Millisecond)\n\t\treturn fmt.Sprintf("%v result for %q\n", kind, query)\n\t}\n}\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#main.go\n    func SearchEngine(query string) (results []string) {\n        results = append(results, Web(query))\n        results = append(results, Image(query))\n        results = append(results, Video(query))\n        return\n    }\n    func SearchMain(query string) {\n        start := time.Now()\n        results := SearchEngine("golang")\n        elapsed := time.Since(start)\n        fmt.Println(results)\n        fmt.Println(elapsed)\n    }\n    func main() {\n        SearchMain("Golang")\n    }\n'),o=Object(O.a)(a,2),c=o[0],s=o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h4",{children:"Implementation Of Serial Search"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:["Step 01 - Fake Search Implementation",Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:["Step 02 - Serial Search for all Service",Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},D=function(e){var n=i.a.useState(!1),t=Object(O.a)(n,2),r=t[0],a=t[1],o=i.a.useState(!1),c=Object(O.a)(o,2),s=c[0],l=c[1],u=i.a.useState(!1),h=Object(O.a)(u,2),d=h[0],g=h[1],j=i.a.useState(!1),m=Object(O.a)(j,2),b=m[0],f=m[1];return Object(p.jsxs)("div",{classNamae:"row",children:[Object(p.jsx)("h3",{children:"SearchEngine"}),Object(p.jsx)("p",{children:"In this project we will write a search engine using go. This will be a mock search implementation. There are 4 variation of the implementation, we start with basic serial search, then parallel search, parallel with timeout and finally with multiple replicas of services. Each phase is performance improvement over the previous one."}),Object(p.jsxs)("p",{children:["Code repository ",Object(p.jsx)("a",{href:"https://github.com/rkumar-bengaluru/go/tree/main/searchengine",target:"_blank",children:"here"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h6",{children:"Serial Search"}),Object(p.jsx)("p",{children:"With this approach we will call 3 services (web, image , video) search one by one and then combine the results and send to caller."}),!r&&Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return a(!0)},children:"Show Code..."}),r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return a(!1)},children:"Hide Code..."}),Object(p.jsx)(A,{})]}),Object(p.jsx)("p",{})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h6",{children:"Parallel Search"}),Object(p.jsx)("p",{children:"In the next section we will enable parallel search using go routines then combine the results. This will drastically improve the search time."}),!s&&Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return l(!0)},children:"Show Code..."}),s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return l(!1)},children:"Hide Code..."}),Object(p.jsx)(E,{})]}),Object(p.jsx)("p",{})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h6",{children:"Parallel Search With Timeout"}),Object(p.jsx)("p",{children:"In the case we have the SLA that users should not wait for more than 80 milliseconds and hence we will timeout if any of the service(web, image, video) takes more than 80 milliseconds and return what we got."}),!d&&Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return g(!0)},children:"Show Code..."}),d&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return g(!1)},children:"Hide Code..."}),Object(p.jsx)(V,{})]}),Object(p.jsx)("p",{})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h6",{children:"Replica Search"}),Object(p.jsx)("p",{children:"In this case we will create multiple replicas of each service and in parallel call each one of them. This will ensure at least of the service replica will respond within 80 milliseconds. With this implementation there is going to be 100% chance of users gettig all service response within the SLA."}),!b&&Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return f(!0)},children:"Show Code..."}),b&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return f(!1)},children:"Hide Code..."}),Object(p.jsx)(T,{})]})]})]})},L=function(){var e={current:Object(p.jsx)(D,{}),prev:""},n=Object(r.useReducer)((function(e,n){switch(n.type){case"0":return{prev:e.current,current:Object(p.jsx)(A,{})};case"1":return{prev:e.current,current:Object(p.jsx)(E,{})};case"2":return{prev:e.current,current:Object(p.jsx)(V,{})};case"3":return{prev:e.current,current:Object(p.jsx)(T,{})};default:return{prev:e.current,current:D}}}),e),t=Object(O.a)(n,2),i=t[0];t[1];return Object(p.jsx)("div",{class:"container",children:i.current})},_=function(){var e=i.a.useState('#palindrome.go\nimport (\n    "strconv"\n)\nfunc CheckIfPlaindrom(n string) bool {\n    toCheck := []rune(n)\n    m := (len(toCheck) -1)/2\n    for i,j := 0,len(toCheck) -1; i <= m; i,j = i+1, j -1 {\n        if toCheck[i] != toCheck[j] {\n            return false\n        }\n    }\n    return true\n}\n\nfunc CheckIfIntPalindrome(n i) bool {\n    str := strconv.Itoa(i)\n    return CheckIfPlaindrom(n)\n}\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#palindrome_test.go\nimport (\n"testing"\n)\nfunc TestCheckIfPlaindrom(t *testing.T)  {\n    test := "madam"\n    want := true\n    got  := CheckIfPlaindrome(test)\n    if got != want {\n        t.Errorf("want %v got %v\n",want,got)\n    }\n}\n\nfunc TestCheckIfIntPalindrome(t *testing.T)  {\n    test := 10101\n    want := true\n    got := CheckIfIntPalindrome(test)\n    if got != want {\n        t.Errorf("want %v got %v\n",want,got)\n    }\n}\n'),o=Object(O.a)(a,2),c=o[0];o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h4",{children:"Palindrome String and Integer"}),Object(p.jsx)("p",{children:"A palindrome string or integer is one which is same if you reverse the string or integer"}),Object(p.jsx)("p",{children:"Example Of String Palindrome :- madam"}),Object(p.jsx)("p",{children:"Example Of Integer Palindrome :- 10101"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6 border",children:Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})}),Object(p.jsx)("div",{className:"col-6 border",children:Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})]})},B=function(){var e=i.a.useState("#remsort.go\ntype RemObj struct {\n    idx int\n    mod int\n    str string\n}\n\ntype RemList struct {\n    list []RemObj\n}\n// implement Sort interface on RemList\nfunc (r *RemList) Len() int {\n    return len(r.list)\n}\nfunc (r *RemList) Less(i,j int) bool {\n    if r.list[i].mod == r.list[j].mod {\n        // sort by str\n        return r.list[i].str < r.list[j].str\n    }\n    // else sort by mod\n    return r.list[i].mod < r.list[j].mod\n}\nfunc (r *RemList) Swap(i,j int) {\n    r.list[i],r.list[j] = r.list[j],r.list[i]\n}\nfunc (r *RemList) Add(l RemObj) {\n    r.list = append(r.list, l)\n}\nfunc RemainderSorting(s []string, k int) []string {\n    r := RemList{}\n    for i := 0; i < len(s);i++ {\n        m := len(s[i]) % k\n        r.Add(RemObj{idx : i, mod : m , str : s[i]})\n    }\n    sort.Sort(r)\n    res := []string\n    for i :=0; i < r.Len();i++ {\n        res = res.append(res,r.list[i].str)\n    }\n    return res\n}\n"),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#remsort_test.go\nimport (\n"testing"\n"reflect"\n)\nfunc TestCheckIfPlaindrom(t *testing.T)  {\n    test := {"Colarado","Utah","Wisconsin","Oregon"}\n    want := {"Oregon","Wisconsin","Utah","Colarado"}\n    got  := RemainderSorting(test,3)\n    r := reflect.DeepEqual(want,got)\n    if !r {\n        t.Errorf("want %v got %v\n",want,got)\n    }\n}\n'),o=Object(O.a)(a,2),c=o[0];o[1];return Object(p.jsxs)("div",{classNamae:"container",children:[Object(p.jsx)("h4",{children:"Remainder Sorting"}),Object(p.jsxs)("p",{children:["Provided a array of strings sort the strings based on following logic",Object(p.jsx)("li",{children:"Sort the strings based on the lengths of each string and modula of k"}),Object(p.jsx)("li",{children:"If the modula is same then sort by string in that index."})]}),Object(p.jsxs)("p",{children:['Example Input := {"Colarado","Utah","Wisconsin","Oregon"}',Object(p.jsx)("br",{}),"The lengths of string as follows := {8,4,9,6}",Object(p.jsx)("br",{}),"If the value of k is 3 then the modula as follows :- {2,1,0,0}",Object(p.jsx)("br",{}),"Since the modula of 3rd and 4th element is same sort them by string and hence the below response.",Object(p.jsx)("br",{}),'{"Oregon","Wisconsin","Utah","Colarado"}']}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6 border",children:Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})}),Object(p.jsx)("div",{className:"col-6 border",children:Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})]})},H=function(){var e=i.a.useState('#channel.go\n// function to wait to read from oddChannel & print\nfunc printOddNumbers(oddChannel <-chan int, wg *sync.WaitGroup)  {\n    wg.Add(1) // add a new go routine to wait group\n    go func(){\n        // wg.Done function decrement the go routine counter\n        defer wg.Done()\n        for oddNumber := range oddChannel {\n            fmt.Printf("Recieved On OddChannel %d\n",oddNumber)\n        }\n    }()\n}\n'),n=Object(O.a)(e,2),t=n[0],r=n[1],a=i.a.useState('#channel.go\n// function to wait to read from evenChannel & print\nfunc printEvenNumbers(evenChannel <-chan int, wg *sync.WaitGroup)  {\n    wg.Add(1) // add a new go routine to wait group\n    go func(){\n        // wg.Done function decrement the go routine counter\n        defer wg.Done()\n        for evenNumber := range evenChannel {\n            fmt.Printf("Recieved On EvenChannel %d\n",evenNumber)\n        }        \n    }()\n}\n'),o=Object(O.a)(a,2),c=o[0],s=o[1],l=i.a.useState("#channel.go\n// orchestration go routine\ntype input struct {\n    number int\n    oddChan chan int\n    evenChan chan int\n}\nfunc doOrchestration(orchChannel <-chan input, wg *sync.WaitGroup)  {\n    wg.Add(1) // add a new go routine to wait group\n    go func(){\n        defer wg.Done()\n        var i input\n        for i = range orchChannel {\n            r := i.number % 2\n            if r == 0 {\n                i.evenChan <- i.number\n            } else {\n                i.oddChan <- i.number\n            }\n        }   \n        // since done writing to channel, close the channel     \n        defer close(i.oddChan)\n        defer close(i.evenChan)\n    }()\n}\n"),u=Object(O.a)(l,2),h=u[0],d=u[1],g=i.a.useState("#channel.go\n// main\nfunc main()  {\n    // make the channels\n    evenChan := make(chan int)\n    oddChan  := make(chan int)\n    orchChan := make(chan input)\n    var wg   := sync.WaitGroup\n    data     := []int{5,4,3,2,1}\n    // start the go routines.\n    printEvenNumbers(evenChan <-chan int, wg *sync.WaitGroup)\n    printEvenNumbers(evenChan <-chan int, wg *sync.WaitGroup)\n    doOrchestration(orcChan <-chan input,wg *sync.WaitGroup)\n    for i := 0; i < len(data); i++ {\n\t\ttime.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond)\n\t\torchChan <- in{i: test[i], oddChan: oddChan, evenChan: evenChan}\n\t}\n\tclose(orcChan)\n\twg.Wait()\n}\n"),j=Object(O.a)(g,2),m=j[0],b=j[1];return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Go Routine With WaitGroup and Channel"}),Object(p.jsxs)("p",{children:["We will write 3 go routines they are:-",Object(p.jsx)("li",{children:"Go Routine which will await numbers to be written to EvenChannel, it will just print the recieved number."}),Object(p.jsx)("li",{children:"Go Routine which will await numbers to be written to OddChannel, it will print the recieved number."}),Object(p.jsx)("li",{children:"Go Routine which will await numbers to be written in an OrchestatorChannel. This will check if the recieved number is even or odd. If the number is odd it will write to EvenChannel or else write the number to OddChannel."})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:[Object(p.jsx)("h6",{children:"Step 01 - Write the Odd Go Routine Function"}),Object(p.jsx)(F.a,{value:t,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:[Object(p.jsx)("h6",{children:"Step 02 - Write the even Go Routine Function"}),Object(p.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(p.jsx)("h6",{children:"Orchestator Go Routine"}),Object(p.jsx)("p",{children:"This Go Routine function will wait for data to be written to Orchestator Channel"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col border",children:[Object(p.jsx)("h6",{children:"Step 03 - Write the Orchestator Go Routine"}),Object(p.jsx)(F.a,{value:h,onValueChange:function(e){return d(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(p.jsxs)("div",{className:"col border",children:[Object(p.jsx)("h6",{children:"Step 04 - Write the main function"}),Object(p.jsx)(F.a,{value:m,onValueChange:function(e){return b(m)},highlight:function(e){return Object(N.highlight)(m,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},U=function(){var e=Object(p.jsxs)("div",{class:"container",children:[Object(p.jsx)("p",{children:"Go By Example is set of small projects which will help beginner or and experienced professional programmer to try and make their hands dirty with real time projects."}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"3"})},children:"Let's write a Search Engine..."})}),Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"6"})},children:"Go Routine & Channel"})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"2"})},children:"Rest API with Gin"})}),Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"0"})},children:"Custom Logger for Go"})}),Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"1"})},children:"Rest API with Gorilla"})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"4"})},children:"Palindrome"})}),Object(p.jsx)("div",{className:"col-4",children:Object(p.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return o({type:"5"})},children:"Remainder Sorting"})})]})]}),n={current:e,prev:""},t=Object(r.useReducer)((function(n,t){switch(t.type){case"0":return{prev:n.current,current:Object(p.jsx)(k,{})};case"1":return{prev:n.current,current:Object(p.jsx)(M,{})};case"2":return{prev:n.current,current:Object(p.jsx)(q,{})};case"3":return{prev:n.current,current:Object(p.jsx)(L,{})};case"4":return{prev:n.current,current:Object(p.jsx)(_,{})};case"5":return{prev:n.current,current:Object(p.jsx)(B,{})};case"6":return{prev:n.current,current:Object(p.jsx)(H,{})};default:return{prev:n.current,current:e}}}),n),i=Object(O.a)(t,2),a=i[0],o=i[1];return Object(p.jsx)("div",{class:"container",children:a.current})};o.a.render(Object(p.jsx)(l.a,{children:Object(p.jsx)(y,{children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{exact:!0,path:"/gobyexample/",component:U}),Object(p.jsx)(u.a,{exact:!0,path:"/gobyexample/logger",component:k}),Object(p.jsx)(u.a,{exact:!0,path:"/gobyexample/logger",component:M})]})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/gobyexample",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/gobyexample","/firebase-messaging-sw.js");c?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):s(e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.aab3ba02.chunk.js.map