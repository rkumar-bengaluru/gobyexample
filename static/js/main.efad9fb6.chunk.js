(this.webpackJsonpgobyexample=this.webpackJsonpgobyexample||[]).push([[0],{35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(21),a=n.n(i),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=n(26),d=n(5),u=n(22),h=n(23),g=n(15),j=n(24),p=n(29),b=n(0),m=function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"row justify-content-between border-bottom m-1 bg-primary",children:[Object(b.jsx)("div",{className:"d-flex flex-wrap align-content-center",children:Object(b.jsx)("div",{className:"col-md-auto",children:Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("img",{src:"/gobyexample/go/logo.jpg",alt:"LocalShop"})})})}),Object(b.jsx)("div",{className:"col-md-auto",children:Object(b.jsx)("h2",{class:"text-white",children:Object(b.jsx)("span",{class:"footer-h3 text-white",children:"Learn Go By Example"})})}),Object(b.jsx)("div",{className:"col-md-auto",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("a",{className:"nav-link ml-2 mr-2 text-white",href:"/gobyexample",rel:"noopener noreferrer",children:["Home",Object(b.jsx)("span",{className:"sr-only",children:"(current)"})]})})})]})})},f=function(e){var t=new Date;return Object(b.jsx)("div",{class:"row justify-content-left border-bottom m-5",children:Object(b.jsx)("footer",{children:Object(b.jsxs)("div",{class:"d-flex flex-wrap align-content-center bg-white",children:[Object(b.jsxs)("div",{class:"col-md-auto ml-5",children:[Object(b.jsxs)("h3",{class:"footer-h3",children:["About",Object(b.jsx)("span",{style:{color:"#FFCC48"},children:"GoByExample"})]}),Object(b.jsxs)("p",{class:"font-weight-normal text-black",children:["\xa9 2018-",t.getFullYear(),"@Rupak Kumar."]})]}),Object(b.jsxs)("div",{class:"col-md-auto ml-5",children:[Object(b.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(b.jsx)("i",{class:"fa fa-2x fa-map-marker"}),Object(b.jsx)("span",{children:" #202, LG Halli, Bengaluru - 560094"})]}),Object(b.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(b.jsx)("i",{class:"fa fa-2x fa-phone"}),Object(b.jsx)("span",{children:" +91 9113584362"})]}),Object(b.jsxs)("p",{class:"font-weight-bold text-black",children:[Object(b.jsx)("i",{class:"fa fa-2x fa-envelope"}),Object(b.jsxs)("span",{children:[" ",Object(b.jsx)("a",{href:"mailto:admin@vlocalshop.in",children:"rupak.kumar.ambasta@gmail.com"})]})]})]}),Object(b.jsxs)("div",{class:"col",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{class:"font-weight-bold text-black",children:"About Me"}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{class:"font-weight-normal text-black",children:"A creative technologist, thought leader and problem solver with 20+ years of experience as development manager, team manager, architect and developer in various application and infrastructure domains."})]}),Object(b.jsx)("div",{})]})]})})})},O=(n(35),n(4));function x(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],o=t[1],i=function(){window.pageYOffset>300?o(!0):o(!1)};return Object(r.useEffect)((function(){window.addEventListener("scroll",i)}),[]),Object(b.jsx)("div",{className:"scroll-to-top",children:n&&Object(b.jsx)("div",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(b.jsx)("img",{src:"/gobyexample/icons/top.svg",alt:"Go to top"})})})}var v=n(25),w=n.n(v),y=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={showSideBar:!1,showSubscribeButton:!0},w()(Object(g.a)(r),"subscribe","post"),r}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)("div",{class:"container-fluid",children:[Object(b.jsx)(x,{}),Object(b.jsx)(m,{}),this.props.children,Object(b.jsx)(f,{})]})})}}]),n}(r.Component),S=n(3),F=n.n(S),N=n(2),k=(n(11),n(12),n(13),function(e){var t=o.a.useState('\t#cmd/main.go\n        package main\n\n        import (\n            "github.com/rkumar-bengaluru/go/logger"\n        )\n        \n        func main() {\n            \tlogger.New().Info("default logger")\n        }\n'),n=Object(O.a)(t,2),r=n[0],i=n[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"Logging in Go"}),Object(b.jsx)("p",{children:"As a experienced developer the first thing that comes in mind for a project is logging even for basic hello world in any programming language you start with is printing the hello message. However it would be great if we start with logging the hello message as any project you will end up there."}),Object(b.jsx)("h3",{children:"Limitation of Default Go Logger"}),Object(b.jsx)("p",{children:"I have spent most of time in Java and first thing i would like to see is what to log and and what is the level of the log example debug, info, warning, error. This default levelled based logging is missing in default log in Go. Not sure why they designed it that way probably they left it for open source developers to jump in and create that for Go :)"}),Object(b.jsx)("h4",{children:"Let's build a Custom Go Logger"}),Object(b.jsx)("p",{children:"So this is my first go lang project, build a logger with different levels of logging."}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 01"}),Object(b.jsx)("p",{children:"Go to your project root directory and run the following commands:"}),Object(b.jsx)(F.a,{value:"# go work init",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(b.jsx)("p",{children:"This will create your project workspace go.work. Inside the project root directory create 2 folders, cmd :- Keep your main.go source file, go runtime uses this and logger :- Keep your logger.go source code."})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 02"}),Object(b.jsx)("p",{children:"Will use Zap logger in the background and will provide abstraction of a custom logger for this project"}),Object(b.jsx)(F.a,{value:"\r #logger.go\r // first struct in go\r type Logger struct {\r log *zap.Logger\r }\r // define a function for Logger.\r func (logger *Logger) Info(msg string) {\r logger.log.Info(msg)\r }",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 03 - Create a New function to initialize logger"}),Object(b.jsx)(F.a,{value:"func New() *Logger {\r l, _ := zap.NewProduction()\r defer l.Sync()\r return &Logger{l}\r }",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 04 - import zapper packages"}),Object(b.jsx)(F.a,{value:'import (\r "go.uber.org/zap"\r "go.uber.org/zap/zapcore"\r "gopkg.in/natefinch/lumberjack.v2"\r )',highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 05 - Create Module files"}),Object(b.jsx)(F.a,{value:"go mod init github.com/rkumar-bengaluru/go/logger",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(b.jsx)("p",{children:"This will create go.mod file"})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 06 - Install third party packages and resolve dependencies"}),Object(b.jsx)(F.a,{value:"go mod tidy",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 07 - Final Go.mod as below"}),Object(b.jsx)(F.a,{value:"module github.com/rkumar-bengaluru/go/logger\r go 1.18\r require (\r go.uber.org/zap v1.21.0\r gopkg.in/natefinch/lumberjack.v2 v2.0.0\r )\r require (\r github.com/BurntSushi/toml v1.1.0 // indirect\r go.uber.org/atomic v1.7.0 // indirect\r go.uber.org/multierr v1.6.0 // indirect\r )",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(b.jsx)("p",{children:"This will create go.mod file"})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 08 - Let's use this logger module we build in cmd module"}),Object(b.jsx)(F.a,{value:r,onValueChange:function(e){return i(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 09 - Create main module"}),Object(b.jsx)(F.a,{value:"go mod init github.com/rkumar-bengaluru/go",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}),Object(b.jsx)("p",{children:"followed by install package dependencies"}),Object(b.jsx)(F.a,{value:"go mod tidy",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("h5",{children:"Step 10 - Use local workspace and Run the main module"}),Object(b.jsx)("p",{children:"In the project root directory, run the following commands"}),Object(b.jsx)(F.a,{value:"\r go work use ./cmd\r go work use ./logger\r go run github.com/rkumar-bengaluru/go\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("p",{children:["You can find the complete source code",Object(b.jsx)("a",{href:"https://github.com/rkumar-bengaluru/go",target:"_blank",rel:"noreferrer",children:" here"})]})]})}),z=function(){var e=o.a.useState('#main.go\npackage main\n\nimport (\n    "github.com/rkumar-bengaluru/go/rest/routes"\n)\n        \nfunc main() {\n    var a = routes.App{}\n    a.Initialize(\n        "postgres",\n        "postgrespw",\n        "sampledb",\n    )\n    a.Run(":8080")\n}'),t=Object(O.a)(e,2),n=t[0];t[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{children:"Running the Rest API's"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("p",{children:"In Go for running any module you would need a main package with main() function. For simplicity we will refer Cmd package as main which the go runtime will use to start the application."})})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 01 - Write the main program",Object(b.jsx)(F.a,{value:n,highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 02 - Run the below commands and run the rest server",Object(b.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/cmd\r go mod tidy\r go run github.com/rkumar-bengaluru/go/rest/cmd\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},I=function(){var e=o.a.useState('#model.js\ntype Product struct {\n    ID    int `json:"id,omitempty`    \n    Name  string  `json:"name"`\n    Price float64 `json:"price"`\n}'),t=Object(O.a)(e,2),n=t[0],r=t[1],i=o.a.useState('#model.js\nfunc (p *Product) GetProduct(db *sql.DB) error {\n    log.Info(fmt.Sprintf("product to fetch %v\n", p.ID))\n    return db.QueryRow("SELECT name,price from products where id=$1", p.ID).Scan(&p.Name, &p.Price)\n}'),a=Object(O.a)(i,2),c=a[0],s=a[1],l=o.a.useState('#model.js\nimport (\n    "database/sql"\n    "fmt"\n    "github.com/rkumar-bengaluru/go/logger"\n)'),d=Object(O.a)(l,2),u=d[0],h=d[1],g=o.a.useState('#model.js\nvar allproducts = map[int]Product{\n        1: Product{1, "apple", 8.99},\n        2: Product{2, "mango", 7.99},\n        3: Product{3, "banana", 4.33},\n}'),j=Object(O.a)(g,2),p=j[0],m=j[1],f=o.a.useState('#model.js\nfunc (p *Product) GetProductInMemory() error {\n    for key, val := range allproducts {\n        if key == p.ID {\n             p.Name = val.Name\n            p.Price = val.Price\n            break\n        }\n    }\n    return errors.New("product not found...")\n}'),x=Object(O.a)(f,2),v=x[0],w=x[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{children:"Model Of the Rest API"}),Object(b.jsxs)("div",{className:"row ",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("p",{children:["Let's say we are building a product catalog API to create, update, delete and read products. For the sake of simplicity we will discuss only of the API's. To check all of them please look at the code repository link",Object(b.jsx)("a",{target:"_blank",href:"https://github.com/rkumar-bengaluru/go/tree/main/rest/model",children:" here."})]})}),Object(b.jsxs)("div",{className:"col border",children:["Step01 - Define the model",Object(b.jsx)(F.a,{value:n,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row ",children:[Object(b.jsxs)("div",{className:"col border",children:["Step02 - Define the function on the model",Object(b.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col border",children:["Step03 - import necessary dependencies",Object(b.jsx)(F.a,{value:u,onValueChange:function(e){return h(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsx)("p",{children:"You can choose to to implement a in memory model as well instead of db."}),Object(b.jsxs)("div",{className:"row ",children:[Object(b.jsxs)("div",{className:"col border",children:["Step 02.01 - Define in memory map of products.",Object(b.jsx)(F.a,{value:p,onValueChange:function(e){return m(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col border",children:["Step 02.02 - Define function with InMemory data",Object(b.jsx)(F.a,{value:v,onValueChange:function(e){return w(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsx)("p",{children:"Run the necessary commands to build the model module."}),Object(b.jsx)("div",{className:"row border",children:Object(b.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/model\r go mod tidy\r ",onValueChange:function(e){return h(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})},M=function(){var e=o.a.useState('#app.go\nimport (\n    "database/sql"\n    "encoding/json"\n    "fmt"\n    "net/http" // core go http package\n    "strconv"\n    "github.com/gorilla/mux" // gorilla package\n    _ "github.com/lib/pq" // postgres driver\n    "github.com/rkumar-bengaluru/go/logger" // from previous article\n    "github.com/rkumar-bengaluru/go/rest/model" // model we just defined\n)'),t=Object(O.a)(e,2),n=t[0],r=t[1],i=o.a.useState('#app.go\ntype App struct {\n    Router *mux.Router // gorilla router - github.com/gorilla/mux\n    DB     *sql.DB\n}\n\nfunc (a *App) initRoutes() {\n    a.Router.HandleFunc("/product/{id:[0-9]+}", a.getProduct).Methods("GET")\n}'),a=Object(O.a)(i,2),c=a[0],s=a[1],l=o.a.useState('#app.go\nfunc (a *App) getProduct(w http.ResponseWriter, r *http.Request) {\n    vars := mux.Vars(r)\n    id, err := strconv.Atoi(vars["id"])\n    alog.Info(fmt.Sprintf("getProduct::product to fetch ", id))\n    if err != nil {\n        respondWithError(w, http.StatusBadRequest, "Invalid Product id")\n        return\n    }\n    p := model.Product{ID: id}\n    // GetProduct is what we defined in model aove.\n    if err = p.GetProduct(a.DB); err != nil {\n        fmt.Println(err)\n        switch err {\n            case sql.ErrNoRows:\n                respondWithError(w, http.StatusNotFound, "Product not found")\n                return\n            default:\n                respondWithError(w, http.StatusInternalServerError, err.Error())\n                return\n        }\n    }\n    respondWithJson(w, http.StatusOK, p)\n}'),d=Object(O.a)(l,2),u=d[0],h=d[1],g=o.a.useState('#app.go\nfunc respondWithError(w http.ResponseWriter, code int, message string) {\n    respondWithJson(w, code, map[string]string{"error": message})\n}\n\nfunc respondWithJson(w http.ResponseWriter, code int, payload interface{}) {\n    response, _ := json.Marshal(payload)\n    alog.Info(fmt.Sprintf("returing ->", string(response)))\n    w.Header().Set("Content-Type", "application/json")\n    w.WriteHeader(code)\n    w.Write(response)\n}'),j=Object(O.a)(g,2),p=j[0],m=j[1],f=o.a.useState('#app.go\n// initiazlize the App\nfunc (a *App) Initialize(user, pwd, dbname string) {\n\tconnectionString := fmt.Sprintf("port=49154 user=%v password=%v dbname=%v sslmode=disable",\n\t\tuser, pwd, dbname)\n\talog.Info(connectionString)\n\tvar err error\n\ta.DB, err = sql.Open("postgres", connectionString)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t}\n\n\talog.Info(fmt.Sprintf("DB Initialized %v", a.DB))\n\ta.Router = mux.NewRouter()\n\talog.Info(fmt.Sprintf("Router %v\n", a.Router))\n\ta.initRoutes()\n}'),x=Object(O.a)(f,2),v=x[0],w=x[1],y=o.a.useState("#app.go\nfunc (app App) Run(add string) {\n    http.ListenAndServe(add, app.Router)\n}"),S=Object(O.a)(y,2),k=S[0],z=S[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{children:"Configure Routes Of the Rest API's"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("p",{children:["Routes are nothing but endpoint URL's which needs to be configured using the Go http module. We will discuss just of the API's being configured. For the complete API list please refer to the code repository ",Object(b.jsx)("a",{target:"_blank",href:"https://github.com/rkumar-bengaluru/go/tree/main/rest/routes",children:"here."})]})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 01 - Define the Dependencies",Object(b.jsx)(F.a,{value:n,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 02 - Define App structure and initialize route",Object(b.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 03 - Overload App with getProduct function",Object(b.jsx)(F.a,{value:u,onValueChange:function(e){return h(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 04 - Implement respondWithError and respondWithJson",Object(b.jsx)(F.a,{value:p,onValueChange:function(e){return m(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 05 - Initialize the App",Object(b.jsx)(F.a,{value:v,onValueChange:function(e){return w(v)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 06 - Run the App",Object(b.jsx)(F.a,{value:k,onValueChange:function(e){return z(k)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsx)("p",{children:"Run the necessary commands to build the model module."}),Object(b.jsx)("div",{className:"row border",children:Object(b.jsx)(F.a,{value:"\r go mod init github.com/rkumar-bengaluru/go/rest/routes\r go mod tidy\r ",highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})})]})},R=function(){var e=o.a.useState('#routes_test.go\nimport (\n    "github.com/rkumar-bengaluru/go/rest/routes"\n    "log"\n    "net/http"\n    "net/http/httptest"\n    "os"\n    "testing"\n)'),t=Object(O.a)(e,2),n=t[0],r=t[1],i=o.a.useState('#routes_test.go\nvar app = routes.App{}\n\nfunc TestGetProduct(t *testing.T) {\n    clearTable()\n    req, _ := http.NewRequest("GET", "/product/1", nil)\n    rec := httptest.NewRecorder()\n    app.Router.ServeHTTP(rec, req)\n    if rec.Code != http.StatusOK {\n        t.Errorf("expected %v, recvd %v", http.StatusOK, rec.Code)\n    }\n}'),a=Object(O.a)(i,2),c=a[0],s=a[1],l=o.a.useState('#routes_test.go\nfunc TestMain(m *testing.M) {\n    app.Initialize(\n        "postgres",\n        "postgrespw",\n        "sampledb",\n    )\n    ensureTableExist()\n    code := m.Run()\n    clearTable()\n    os.Exit(code)\n}'),d=Object(O.a)(l,2),u=d[0],h=d[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{children:"Go Unit Testing"}),Object(b.jsx)("div",{className:"row",children:"So far we have developed one of the rest api's. Here we will see how to use the inbuild testing capabilities in Go to test the rest API."}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 01 - Define the Dependencies",Object(b.jsx)(F.a,{value:n,onValueChange:function(e){return r(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 02 - Write the Main test. It is like setup and teardown for each test.",Object(b.jsx)(F.a,{value:u,onValueChange:function(e){return h(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 border",children:["Step 03 - Write the test for GetProduct",Object(b.jsx)(F.a,{value:c,onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]}),Object(b.jsxs)("div",{className:"col-6 border",children:["Step 02 - Write the test for GetProduct",Object(b.jsx)(F.a,{value:"go test -v github.com/rkumar-bengaluru/go/rest/routes",onValueChange:function(e){return s(e)},highlight:function(e){return Object(N.highlight)(e,N.languages.js)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})]})]})]})},P=function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"Build Rest API with Gorilla"}),Object(b.jsx)(I,{}),Object(b.jsx)(M,{}),Object(b.jsx)(z,{}),Object(b.jsx)(R,{})]})},C=function(){var e=Object(b.jsxs)("div",{class:"row",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return a({type:"0"})},children:"Custom Logger for Go"})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("a",{className:"footer-h3",href:"javascript:void(0)",onClick:function(){return a({type:"1"})},children:"Rest API with Gorilla"})})]}),t={current:e,prev:""},n=Object(r.useReducer)((function(t,n){switch(n.type){case"0":return{prev:t.current,current:Object(b.jsx)(k,{})};case"1":return{prev:t.current,current:Object(b.jsx)(P,{})};default:return{prev:t.current,current:e}}}),t),o=Object(O.a)(n,2),i=o[0],a=o[1];return Object(b.jsx)("div",{class:"container",children:i.current})};a.a.render(Object(b.jsx)(l.a,{children:Object(b.jsx)(y,{children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/gobyexample/",component:C}),Object(b.jsx)(d.a,{exact:!0,path:"/gobyexample/logger",component:k}),Object(b.jsx)(d.a,{exact:!0,path:"/gobyexample/logger",component:P})]})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/gobyexample",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/gobyexample","/firebase-messaging-sw.js");c?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):s(e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.efad9fb6.chunk.js.map